# Porting Guide

Some guidelines on how to create, test and add to the repository a new implementation of the __fts_fuzzy_match__ algorithm in another language.


-----

**Table of Contents**

<!-- MarkdownTOC autolink="true" bracket="round" autoanchor="false" lowercase="only_ascii" uri_encoding="true" levels="1,2,3" -->

- [Porting](#porting)
- [Testing](#testing)

<!-- /MarkdownTOC -->

-----

# Porting

Besides the original algorithm implementations by [Forrest Smith], you'll find in this repository third implementations in various other languages.
Depending on the target language you're porting the algorithm to, and the programming languages you're fluent in, you'll find some of these implementations more useful references to start with.

Before starting to work on your code, you're strongly advised to read the _[Reverse Engineering Sublime Text’s Fuzzy Match]_ article by [Forrest Smith], which inspired the __fts_fuzzy_match__ algorithm in the first place.

There are two versions of the algorithm:

- __v0.1.0__ — the original algorithm mentioned in the article.
- __v0.2.0__ — an improved version, based on feedback on the article from Sublime Text author, Jon Skinner.

You should consider implementing __v0.1.0__ of the algorithm first, and then start working on __v0.2.0__, since the latter is an extended version of the former, and it's easier to understand the updated version once you grasped its first incarnation.

If you do so, please add to this repository both version __v0.1.0__ and __v0.2.0__ of your ported algorithm, for they will be helpful references to other porters.

While porting the algorithm, try to stay as close to the original implementation as possible, and resist temptations to add your own improvements.
The goal of this project is to present ports of the original algorithms, _as they are_, to various other languages.

There's obviously room for a lot of improvements in the original __fts_fuzzy_match__ algorithm, but its beauty and success lie in its simplicity.
It's an entry level algorithm and introduction to fuzzy searching and matching, and it's meant as a starting point to get your feet wet with fuzzy matching, without the complexity of more advanced algorithms.

If you've created improved versions of the base algorithm, I'd love to add them to the project, just not in the `fts_fuzzy_match/` folder, but in a new dedicated section of the project instead, created _ad hoc_ for optimized and improved versions, and some documentation explaining their benefits and implementation details.


# Testing

In order to test that your ported implementation of the algorithm works as expected, I've come up with the following testing strategy.

Every algorithm implementation should provide a test file that:

- Invokes the `fuzzy_match()` scored function against every entry in the [`ue4_filenames.txt`][ue4_filenames.txt] dataset, passing "LLL" as the search pattern.
- For every matching call, write to the `test_results.txt` file a string containing:
    + &lt;match score&gt; + `|` + &lt;matched entry&gt; + `\n`
- The test ends when 100 matches have been written to `test_results.txt`, or the dataset entries are exhausted (if the latter occurs, then there's a problem in your algorithm).

The resulting `test_results.txt` file can then be diffed with the equivalent reference file generated by the original algorithm of the same version, if they are identical the test has passed:


- [`0.1.0/expected_results.txt`][expect1]
- `0.2.0/expected_results.txt` (_missing file_)

> **NOTE** — Currently, the repository offers only a reference file for __v0.1.0__ of the algorithm (see [#16]):
>
> I'll do my best to provide a reference for __v0.2.0__ as soon as possible, but since v0.2.0 of the original algorithm is only available in C++, I'll need help from someone who known the language.

For an example of a test file implementation, see:

- [`0.1.0/js/node-test.js`][node-test]

<!-----------------------------------------------------------------------------
                               REFERENCE LINKS
------------------------------------------------------------------------------>

<!-- articles -->

[Reverse Engineering Sublime Text’s Fuzzy Match]: https://www.forrestthewoods.com/blog/reverse_engineering_sublime_texts_fuzzy_match/ "Read Forrest Smith's article"

<!-- project files -->

[ue4_filenames.txt]: ../dataset/ue4_filenames.txt
[node-test]: ./0.1.0/js/node-test.js

[expect1]: ./0.1.0/expected_results.txt "Test results from original algorithm v0.1.0"

<!-- Issue -->

[#16]: https://github.com/tajmone/fuzzy-search/issues/16 "Issue #16 — Create Tests Data from Original Algorithms"

<!-- people -->

[Forrest Smith]: https://github.com/forrestthewoods "View Forrest Smith's GitHub profile"

<!-- EOF -->
